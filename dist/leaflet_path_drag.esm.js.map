{"version":3,"file":"leaflet_path_drag.esm.js","sources":["../src/index.js"],"sourcesContent":["/**\n * LeafletPathDrag\n * https://github.com/MrRedBeard/Leaflet.Path.Drag\n * Bundles transform patches and L.Path.Drag logic esm, iife\n * Provides dragging for vector features (SVG/Canvas) using transform matrices\n * Compatible with Leaflet 1.7 and newer\n *\n * @class LeafletPathDrag\n */\nexport class LeafletPathDrag\n{\n  /**\n   * Apply all patches and extend Leaflet classes\n   *\n   * @static\n   * @memberof LeafletPathDrag\n   */\n  static enable ()\n  {\n    // Version compatibility check\n    if (!L.version || parseFloat(L.version) < 1.7)\n    {\n      console.warn('LeafletPathDrag may not be compatible with Leaflet < 1.7');\n    }\n\n    // ensures only patched once\n    if (LeafletPathDrag._enabled) return;\n    LeafletPathDrag._enabled = true;\n\n    const { Path, Handler, DomEvent, DomUtil, Util, Browser, svg, Canvas, SVG, point, LatLngBounds } = L;\n\n    /**\n     * Patch SVG renderer to support transformPath\n     * (if) ensures only patched once\n     */\n    if (SVG?.include && typeof SVG.include === 'function')\n    {\n      SVG.include(\n      {\n        /**\n         * Applies an SVG matrix transform to the path\n         * @param {L.Path} layer\n         * @param {number[]} matrix - 2D transform matrix (6 elements)\n         */\n        transformPath(layer, matrix)\n        {\n          if(layer && layer._path && Array.isArray(matrix))\n          {\n            layer._path.setAttributeNS(null, 'transform', `matrix(${matrix.join(' ')})`);\n          }\n        },\n        /**\n         * Removes transform from an SVG path\n         * @param {L.Path} layer\n         */\n        _resetTransformPath(layer)\n        {\n          if(layer?._path)\n          {\n            layer._path.removeAttribute('transform');\n          }\n        }\n      });\n    }\n\n    const defaultRenderer = svg();\n    if(defaultRenderer && !defaultRenderer.transformPath)\n    {\n      defaultRenderer.transformPath = SVG.prototype.transformPath;\n      defaultRenderer._resetTransformPath = SVG.prototype._resetTransformPath;\n    }\n\n    /**\n     * Patch Canvas renderer to support transformPath\n     * (if) ensures only patched once\n     */\n    function TRUE_FN ()\n    {\n      return true;\n    }\n\n    if (Canvas?.include && typeof Canvas.include === 'function')\n    {\n      Canvas.include(\n      {\n        /**\n         * Removes any canvas-based transform and redraws\n         * @param {L.Path} layer\n         */\n        _resetTransformPath(layer)\n        {\n          if(!this._containerCopy) return;\n          delete this._containerCopy;\n\n          if(layer._containsPoint_)\n          {\n            layer._containsPoint = layer._containsPoint_;\n            delete layer._containsPoint_;\n            this._requestRedraw(layer);\n          }\n        },\n        /**\n         * Applies a matrix transform to a canvas path and redraws\n         * @param {L.Path} layer\n         * @param {number[]} matrix\n         */\n        transformPath(layer, matrix)\n        {\n          const m = Browser.retina ? 2 : 1;\n          const bounds = this._bounds;\n          const size = bounds.getSize();\n          const pos = bounds.min;\n\n          if(!this._containerCopy)\n          {\n            this._containerCopy = document.createElement('canvas');\n            const copyCtx = this._containerCopy.getContext('2d');\n            this._containerCopy.width = m * size.x;\n            this._containerCopy.height = m * size.y;\n            this._removePath(layer);\n            this._redraw();\n            copyCtx.translate(m * bounds.min.x, m * bounds.min.y);\n            copyCtx.drawImage(this._container, 0, 0);\n            this._initPath(layer);\n            layer._containsPoint_ = layer._containsPoint;\n            layer._containsPoint = TRUE_FN;\n          }\n\n          const ctx = this._ctx;\n          ctx.save();\n          ctx.clearRect(pos.x, pos.y, size.x * m, size.y * m);\n          ctx.setTransform(1, 0, 0, 1, 0, 0);\n          ctx.restore();\n          ctx.save();\n          ctx.drawImage(this._containerCopy, 0, 0, size.x, size.y);\n          ctx.transform(...matrix);\n          this._drawing = true;\n          layer._updatePath();\n          this._drawing = false;\n          ctx.restore();\n        }\n      });\n    }\n\n    /**\n     * Patch L.Path with transform behavior and click suppression on drag\n     */\n    Path.include(\n    {\n      _transform(matrix)\n      {\n        if(this._renderer)\n        {\n          if(matrix)\n          {\n            this._renderer.transformPath(this, matrix);\n          }\n          else\n          {\n            this._renderer._resetTransformPath(this);\n            this._update();\n          }\n        }\n        return this;\n      },\n      /**\n       * Prevents click firing after drag\n       * @param {Event} e\n       */\n      _onMouseClick(e)\n      {\n        if((this.dragging && this.dragging.moved()) ||\n         (this._map.dragging && this._map.dragging.moved()))\n        {\n          return;\n        }\n        this._fireMouseEvent(e);\n      }\n    });\n\n    // --- Implement Path.Drag Handler ---\n    const END = {\n      mousedown: 'mouseup',\n      touchstart: 'touchend',\n      pointerdown: 'touchend',\n      MSPointerDown: 'touchend',\n    };\n\n    const MOVE = {\n      mousedown: 'mousemove',\n      touchstart: 'touchmove',\n      pointerdown: 'touchmove',\n      MSPointerDown: 'touchmove',\n    };\n\n    function distance(a, b)\n    {\n      const dx = a.x - b.x;\n      const dy = a.y - b.y;\n      return Math.sqrt(dx * dx + dy * dy);\n    }\n\n    function ensureTransformPath(renderer)\n    {\n      if(renderer && typeof renderer.transformPath !== 'function')\n      {\n        renderer.transformPath = function(layer, matrix)\n        {\n          if(!layer || !layer._path || !Array.isArray(matrix)) return;\n          layer._path.setAttribute('transform', `matrix(${matrix.join(' ')})`);\n        };\n      }\n    }\n\n    Handler.PathDrag = Handler.extend(\n    {\n      statics: {\n        DRAGGING_CLS: 'leaflet-path-draggable',\n      },\n      /**\n       * Initializes the drag handler\n       * @param {L.Path} path - The Leaflet path layer being dragged\n       */\n      initialize(path)\n      {\n        this._path = path;\n        this._matrix = null;\n        this._startPoint = null;\n        this._dragStartPoint = null;\n        this._mapDraggingWasEnabled = false;\n        this._path._dragMoved = false;\n      },\n      addHooks ()\n      {\n        this._path.on('mousedown', this._onDragStart, this);\n        this._path.options.className =(this._path.options.className || '') + ' ' + Handler.PathDrag.DRAGGING_CLS;\n        if(this._path._path)\n        {\n          DomUtil.addClass(this._path._path, Handler.PathDrag.DRAGGING_CLS);\n        }\n      },\n      removeHooks ()\n      {\n        this._path.off('mousedown', this._onDragStart, this);\n        this._path.options.className = this._path.options.className.replace(\n          new RegExp(`\\\\s+${Handler.PathDrag.DRAGGING_CLS}`), ''\n       );\n        if(this._path._path)\n        {\n          DomUtil.removeClass(this._path._path, Handler.PathDrag.DRAGGING_CLS);\n        }\n      },\n      moved ()\n      {\n        return this._path._dragMoved;\n      },\n      /**\n       * Handles the start of a drag operation\n       * @param {L.LeafletMouseEvent} evt\n       */\n      _onDragStart(evt)\n      {\n        // Deep clone _latlngs as the true source of truth for future transforms\n        this._originalLatLngs = this._deepCloneLatLngs(this._path._latlngs);\n\n        this._path._renderer._resetTransformPath?.(this._path); // ensure previous transform gone\n\n        this._restoreCoordGetters(); // restore original latlng accessors from last drag\n\n        DomEvent.stop(evt.originalEvent);\n        const eventType = evt.originalEvent._simulated ? 'touchstart' : evt.originalEvent.type;\n        this._mapDraggingWasEnabled = false;\n        \n        this._startPoint = evt.containerPoint.clone();\n        this._dragStartPoint = evt.containerPoint.clone();\n        this._matrix = [1, 0, 0, 1, 0, 0]; // RESET every time\n\n        // (existing: set up events, disable map drag, close popup, etc.)\n        this._replaceCoordGetters(evt);\n\n        DomUtil.addClass(this._path._renderer._container, 'leaflet-interactive');\n        DomEvent.on(document, MOVE[eventType], this._onDrag, this)\n          .on(document, END[eventType], this._onDragEnd, this);\n\n        if(this._path._map.dragging.enabled())\n        {\n          this._path._map.dragging.disable();\n          this._mapDraggingWasEnabled = true;\n        }\n\n        this._path._dragMoved = false;\n        if(this._path._popup) this._path._popup.close();\n      },\n      /**\n       * Handles the drag movement\n       * @param {TouchEvent|MouseEvent} evt\n       */\n      _onDrag(evt)\n      {\n        if (!this._matrix || !this._startPoint)\n        {\n          console.warn('Drag skipped: missing matrix or start point');\n          return;\n        }\n\n        DomEvent.stop(evt);\n        const first = evt.touches?.[0] || evt;\n        const containerPoint = this._path._map.mouseEventToContainerPoint(first);\n\n        if(evt.type === 'touchmove' && !this._path._dragMoved &&\n          this._dragStartPoint.distanceTo(containerPoint) <= this._path._map.options.tapTolerance)\n        {\n          return;\n        }\n\n        const dx = containerPoint.x - this._startPoint.x;\n        const dy = containerPoint.y - this._startPoint.y;\n\n        if(dx || dy)\n        {\n          if(!this._path._dragMoved)\n          {\n            this._path._dragMoved = true;\n            this._path.options.interactive = false;\n            this._path._map.dragging._draggable._moved = true;\n            this._path.fire('dragstart', evt);\n            this._path.bringToFront();\n          }\n\n          this._matrix[4] += dx;\n          this._matrix[5] += dy;\n          this._startPoint = containerPoint;\n\n          this._path.fire('predrag', evt);\n          this._path._renderer.transformPath(this._path, this._matrix);\n          this._path.fire('drag', evt);\n        }\n      },\n      /**\n       * Handles drag end and applies the transformation to geometry\n       * @param {TouchEvent|MouseEvent} evt\n       */\n      _onDragEnd(evt)\n      {\n        const containerPoint = this._path._map.mouseEventToContainerPoint(evt);\n        if(this.moved())\n        {\n          this._transformPoints(this._matrix);                    // Update actual geometry\n          this._path._renderer._resetTransformPath?.(this._path); // Clean visual transform\n          this._path._project();                                  // Recalculate internal geometry\n          this._path._updatePath();                               // Redraw shape from data\n          ensureTransformPath(this._path._renderer);\n          DomEvent.stop(evt);\n        }\n\n        DomEvent.off(document, 'mousemove touchmove', this._onDrag, this);\n        DomEvent.off(document, 'mouseup touchend', this._onDragEnd, this);\n\n        if(this.moved())\n        {\n          this._path.fire('dragend',\n          {\n            distance: distance(this._dragStartPoint, containerPoint)\n          });\n\n          const contains = this._path._containsPoint;\n          this._path._containsPoint = Util.falseFn;\n          Util.requestAnimFrame(() =>\n          {\n            this._path._dragMoved = false;\n            this._path.options.interactive = true;\n            this._path._containsPoint = contains;\n          }, this);\n        }\n\n        this._matrix = null;\n        this._startPoint = null;\n        this._dragStartPoint = null;\n        this._restoreCoordGetters();\n        delete this._originalLatLngs;\n\n        if(this._mapDraggingWasEnabled)\n        {\n          this._path._map.dragging.enable();\n        }\n\n        this._path._update(); // <- forces geometry + visual update\n      },\n      /**\n       * Applies transformation matrix to coordinates and optionally returns transformed result\n       * @param {number[]} matrix - The transformation matrix\n       * @param {any} [dest] - Optional destination structure for transformed coordinates\n       * @returns {any} The transformed coordinates or updated state\n       */\n      _transformPoints(matrix, dest)\n      {\n        if (!matrix) return;\n\n        const path = this._path;\n        const px = point(matrix[4], matrix[5]);\n        const crs = path._map.options.crs;\n        const scale = crs.scale(path._map.getZoom());\n        const diff = crs.transformation.untransform(px, scale)\n          .subtract(crs.transformation.untransform(point(0, 0), scale));\n        const projection = crs.projection;\n        const applyTransform = !dest;\n        path._bounds = new LatLngBounds();\n\n        if(path._point)\n        {\n          dest = projection.unproject(projection.project(path._latlng)._add(diff));\n          if(applyTransform)\n          {\n            path._latlng = dest;\n            path._point._add(px);\n          }\n        }\n        else if(path._rings || path._parts)\n        {\n          const rings = path._rings || path._parts;\n          let latlngs = path._latlngs;\n          dest = dest || latlngs;\n          if(!Util.isArray(latlngs[0]))\n          {\n            latlngs = [latlngs];\n            dest = [dest];\n          }\n\n          for(let i = 0; i < rings.length; i++)\n          {\n            dest[i] = dest[i] || [];\n            for(let j = 0; j < rings[i].length; j++)\n            {\n              // const latlng = latlngs[i][j];\n              const latlng = this._originalLatLngs[i][j]; // ← always start from original\n\n              dest[i][j] = projection.unproject(projection.project(latlng)._add(diff));\n              if(applyTransform)\n              {\n                path._bounds.extend(latlngs[i][j]);\n                rings[i][j]._add(px);\n              }\n            }\n          }\n        }\n\n        return dest;\n      },\n      /**\n       * Temporarily overrides path coordinate accessors with transformed versions\n       */\n      _replaceCoordGetters ()\n      {\n        if(this._path.getLatLng)\n        {\n          this._path.getLatLng_ = this._path.getLatLng;\n          this._path.getLatLng = () => this._transformPoints(this._matrix, {});\n        }\n        else if(this._path.getLatLngs)\n        {\n          this._path.getLatLngs_ = this._path.getLatLngs;\n          this._path.getLatLngs = () => this._transformPoints(this._matrix, []);\n        }\n      },\n      /**\n       * Restores original path coordinate accessors\n       */\n      _restoreCoordGetters ()\n      {\n        if(this._path.getLatLng_)\n        {\n          this._path.getLatLng = this._path.getLatLng_;\n          delete this._path.getLatLng_;\n        }\n        else if(this._path.getLatLngs_)\n        {\n          this._path.getLatLngs = this._path.getLatLngs_;\n          delete this._path.getLatLngs_;\n        }\n      },\n      _deepCloneLatLngs(latlngs)\n      {\n        if (!Array.isArray(latlngs)) return latlngs;\n\n        return latlngs.map(l =>\n        {\n          if (Array.isArray(l))\n          {\n            return this._deepCloneLatLngs(l);\n          }\n          return L.latLng(l.lat, l.lng);\n        });\n      }\n    });\n\n    Handler.PathDrag.makeDraggable = function(layer)\n    {\n      layer.dragging = new Handler.PathDrag(layer);\n      return layer;\n    };\n\n    Path.prototype.makeDraggable = function ()\n    {\n      return Handler.PathDrag.makeDraggable(this);\n    };\n\n    Path.addInitHook(function ()\n    {\n      if(this.options.draggable)\n      {\n        this.options.interactive = true;\n        if(this.dragging)\n        {\n          this.dragging.enable();\n        }\n        else\n        {\n          Handler.PathDrag.makeDraggable(this);\n          this.dragging.enable();\n        }\n      }\n      else if(this.dragging)\n      {\n        this.dragging.disable();\n      }\n    });\n  }\n}"],"names":[],"mappings":"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"}